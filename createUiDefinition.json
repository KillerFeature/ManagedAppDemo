{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
  "handler": "Microsoft.Compute.MultiVm",
  "version": "0.1.2-preview",
  "parameters": {
    "basics": [],
    "steps": [
      {
        "name": "governance",
        "label": "Governance <Label>",
        "subLabel": {
          "preValidation": "Configure you ressource group <sublabel>",
          "postValidation": "Done",
          "elements": [
            {
              "name": "InfoBox",
              "type": "Microsoft.Common.InfoBox",
              "visible": true,
              "options": {
                "icon": "None",
                "text": "Nullam eros mi, mollis in sollicitudin non, tincidunt sed enim. Sed et felis metus, rhoncus ornare nibh. Ut at magna leo.",
                "uri": "https://www.microsoft.com"
              }
            },
            {
              "name": "environment",
              "type": "Microsoft.Common.OptionsGroup",
              "label": "Select Environment",
              "defaultValue": "Development",
              "toolTip": "",
              "constraints": {
                "allowedValues": [
                  {
                    "label": "Development",
                    "value": "dev"
                  },
                  {
                    "label": "Test",
                    "value": "tst"
                  },
                  {
                    "label": "Production",
                    "value": "prod"
                  }
                ],
                "required": true
              },
              "visible": true
            },
            {
              "name": "owner",
              "type": "Microsoft.Common.TextBox",
              "label": "Owner Email",
              "defaultValue": "",
              "toolTip": "Enter email here",
              "constraints": {
                "required": true,
                "regex": "^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$",
                "validationMessage": "Only valid email adresses"
              },
              "visible": true
            }
          ]
        }
      }
    ],
    "outputs": {
      "ownerEmail": "[steps('governance').owner]",
      "environment": "[steps('governance').environment]"
    }
  }
}